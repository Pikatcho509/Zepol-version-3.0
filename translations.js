// Zepol Multi-Language Support
const translations = {
    ht: {
        // Navigation
        home: "Akey",
        community: "Kominote",
        resources: "Resous",
        share: "Pataje",
        settings: "Pwofil",

        // Hero
        heroTitle: "Vin apiye w sou yon zep√≤l",
        heroSubtitle: "Yon espas an sekirite pou pataje, grandi, ak jwenn sip√≤ nan men yon kominote ki konprann ou.",
        getStarted: "K√≤manse Pataje",

        // Features
        communityTitle: "Kominote",
        communityDesc: "Pale ak l√≤t moun.",
        resourcesTitle: "Resous",
        resourcesDesc: "Atik ak Kons√®y.",
        moodJournalTitle: "Jounal Im√®",
        moodJournalDesc: "Kijan ou santi w?",
        wellbeingTestTitle: "T√®s Byenn√®t",
        wellbeingTestDesc: "F√® yon ti tcheke.",

        // Auth
        login: "Konekte",
        register: "Enskri",
        logout: "Dekonekte",
        fullName: "Non konpl√®",
        email: "Im√®l",
        phone: "Nimewo telef√≤n",
        username: "Non itilizat√®",
        password: "Modpas",
        confirmPassword: "Konfime Modpas",
        createAccount: "Kreye Kont",
        haveAccount: "Ou gen kont deja?",
        noAccount: "Ou pa gen kont?",
        loginTitle: "Konekte",
        registerTitle: "Kreye Kont",

        // Share
        shareTitle: "Pataje Panse w",
        shareSubtitle: "Yon espas lib pou ou eksprime w san krent.",
        anonymous: "Anonim",
        useName: "Mete Non Mwen",
        yourName: "Non ou...",
        howFeel: "Kijan ou santi w?",
        happy: "Kontan",
        neutral: "N√≤mal",
        sad: "Tris",
        anxious: "Ankye",
        tired: "Fatige",
        yourMessage: "Mesaj ou",
        sharePlaceholder: "Eksplike sa k ap pase...",
        safetyNote: "Nou pa jije isit la. Sa ou ekri an sekirite.",
        cancel: "Anile",
        share: "Pataje",

        // Settings
        account: "Kont Mwen",
        language: "Lang",
        chooseLang: "Chwazi Lang ou",
        appearance: "Aparans",
        darkMode: "Nwa M√≤d",
        data: "Done",
        deleteData: "Efase Tout Done",

        // Chatbot
        botName: "Yon Zep√≤l",
        botGreeting: "Bonjou! Mwen se asistan ou. Kijan mwen ka ede w jodi a?",
        typeMessage: "Ekri la...",
        send: "Voye",

        // Resources
        libraryTitle: "Bibliyot√®k Resous",
        all: "Tout",
        articles: "Atik",
        videos: "Videyo",
        exercises: "Egz√®sis",

        // Footer
        about: "Sou Zep√≤l",
        aboutDesc: "Yon zanmi ki toujou la pou ou.",
        quickLinks: "Lyen Rapid",
        contact: "Kontak",
        emailLabel: "Im√®l",
        emergency: "Ijans",
        copyright: "Tout dwa rez√®ve",

        // Modals
        emergencyTitle: "Bezwen √àd Ijans?",
        emergencyDesc: "Ou pa pou kont ou. Gen moun ki vle ede w kounye a.",
        call: "Rele",
        chatWhatsApp: "Chat WhatsApp",

        // Wellbeing Test
        testTitle: "T√®s Byenn√®t",
        testDesc: "Pran yon ti moman pou tcheke kijan ou santi w jodi a.",
        startTest: "K√≤manse",

        // Community
        supportGroup: "Gwoup Sip√≤ Kominot√®",
        supportDesc: "Pale ak l√≤t moun ki konprann ou. Pa gen jijman.",
        typeMessage: "Di yon bagay ankourajan...",
        send: "Voye",

        // Dashboard
        progress: "Pwogr√® Byenn√®t Ou",
        takeCare: "Ti pa ti pa, w ap avanse.",
        wellbeingScore: "Nivo Byenn√®t",
        lastCheck: "D√®nye tcheke",
        moodEvolution: "Evolisyon Im√®",
        streak: "Seri Joudlan",
        keepGoing: "Bravo! Kontinye pran swen t√®t ou.",

        // Misc
        or: "oswa",
        social: "Rete Konekte",
        emergency: "Ijans & √àd",
        logoutBtn: "Dekonekte Kont la"
    },
    fr: {
        // Navigation
        home: "Accueil",
        community: "Communaut√©",
        resources: "Ressources",
        share: "Partager",
        settings: "Profil",

        // Hero
        heroTitle: "Appuyez-vous sur un pilier",
        heroSubtitle: "Un espace s√©curis√© pour partager, grandir et trouver du soutien aupr√®s d'une communaut√© qui vous comprend.",
        getStarted: "Commencer √† Partager",

        // Features
        communityTitle: "Communaut√©",
        communityDesc: "Parlez avec d'autres personnes.",
        resourcesTitle: "Ressources",
        resourcesDesc: "Articles et Conseils.",
        moodJournalTitle: "Journal d'Humeur",
        moodJournalDesc: "Comment vous sentez-vous ?",
        wellbeingTestTitle: "Test de Bien-√™tre",
        wellbeingTestDesc: "Faites un petit contr√¥le.",

        // Auth
        login: "Se Connecter",
        register: "S'inscrire",
        logout: "Se D√©connecter",
        fullName: "Nom complet",
        email: "Email",
        phone: "Num√©ro de t√©l√©phone",
        username: "Nom d'utilisateur",
        password: "Mot de passe",
        confirmPassword: "Confirmer le mot de passe",
        createAccount: "Cr√©er un compte",
        haveAccount: "Vous avez d√©j√† un compte ?",
        noAccount: "Vous n'avez pas de compte ?",
        loginTitle: "Se Connecter",
        registerTitle: "Cr√©er un Compte",

        // Share
        shareTitle: "Partagez vos pens√©es",
        shareSubtitle: "Un espace libre pour vous exprimer sans crainte.",
        anonymous: "Anonyme",
        useName: "Utiliser mon nom",
        yourName: "Votre nom...",
        howFeel: "Comment vous sentez-vous ?",
        happy: "Heureux",
        neutral: "Neutre",
        sad: "Triste",
        anxious: "Anxieux",
        tired: "Fatigu√©",
        yourMessage: "Votre message",
        sharePlaceholder: "Expliquez ce qui se passe...",
        safetyNote: "Nous ne jugeons pas ici. Ce que vous √©crivez est en s√©curit√©.",
        cancel: "Annuler",
        share: "Partager",

        // Settings
        account: "Mon Compte",
        language: "Langue",
        chooseLang: "Choisissez votre langue",
        appearance: "Apparence",
        darkMode: "Mode Sombre",
        data: "Donn√©es",
        deleteData: "Supprimer toutes les donn√©es",

        // Chatbot
        botName: "Yon Zep√≤l",
        botGreeting: "Bonjour ! Je suis votre assistant. Comment puis-je vous aider aujourd'hui ?",
        typeMessage: "Tapez ici...",
        send: "Envoyer",

        // Resources
        libraryTitle: "Biblioth√®que de Ressources",
        all: "Tout",
        articles: "Articles",
        videos: "Vid√©os",
        exercises: "Exercices",

        // Footer
        about: "√Ä propos de Zep√≤l",
        aboutDesc: "Un ami toujours l√† pour vous.",
        quickLinks: "Liens Rapides",
        contact: "Contact",
        emailLabel: "Email",
        emergency: "Urgence",
        copyright: "Tous droits r√©serv√©s",

        // Modals
        emergencyTitle: "Besoin d'aide d'urgence ?",
        emergencyDesc: "Vous n'√™tes pas seul. Il y a des gens qui veulent vous aider maintenant.",
        call: "Appeler",
        chatWhatsApp: "Chat WhatsApp",

        // Wellbeing Test
        testTitle: "Test de Bien-√™tre",
        testDesc: "Prenez un moment pour v√©rifier comment vous vous sentez aujourd'hui.",
        startTest: "Commencer",

        // Community
        supportGroup: "Groupe de Soutien Communautaire",
        supportDesc: "Parlez avec d'autres personnes qui vous comprennent. Pas de jugement.",
        typeMessage: "Dites quelque chose d'encourageant...",
        send: "Envoyer",

        // Dashboard
        progress: "Votre Progr√®s de Bien-√™tre",
        takeCare: "Petit √† petit, vous avancez.",
        wellbeingScore: "Niveau de Bien-√™tre",
        lastCheck: "Derni√®re v√©rification",
        moodEvolution: "√âvolution de l'Humeur",
        streak: "S√©rie Quotidienne",
        keepGoing: "Bravo ! Continuez √† prendre soin de vous.",

        // Misc
        or: "ou",
        social: "Restez Connect√©",
        emergency: "Urgence & Aide",
        logoutBtn: "D√©connecter le Compte"
    },
    en: {
        // Navigation
        home: "Home",
        community: "Community",
        resources: "Resources",
        share: "Share",
        settings: "Profile",

        // Hero
        heroTitle: "Lean on a pillar",
        heroSubtitle: "A safe space to share, grow, and find support from a community that understands you.",
        getStarted: "Start Sharing",

        // Features
        communityTitle: "Community",
        communityDesc: "Talk with others.",
        resourcesTitle: "Resources",
        resourcesDesc: "Articles and Tips.",
        moodJournalTitle: "Mood Journal",
        moodJournalDesc: "How are you feeling?",
        wellbeingTestTitle: "Wellbeing Test",
        wellbeingTestDesc: "Take a quick check.",
        // Auth
        login: "Login",
        register: "Register",
        logout: "Logout",
        fullName: "Full Name",
        email: "Email",
        phone: "Phone Number",
        username: "Username",
        password: "Password",
        confirmPassword: "Confirm Password",
        createAccount: "Create Account",
        haveAccount: "Already have an account?",
        noAccount: "Don't have an account?",
        loginTitle: "Login",
        registerTitle: "Create Account",

        // Share
        shareTitle: "Share Your Thoughts",
        shareSubtitle: "A free space for you to express yourself without fear.",
        anonymous: "Anonymous",
        useName: "Use My Name",
        yourName: "Your name...",
        howFeel: "How are you feeling?",
        happy: "Happy",
        neutral: "Neutral",
        sad: "Sad",
        anxious: "Anxious",
        tired: "Tired",
        yourMessage: "Your message",
        sharePlaceholder: "Explain what's happening...",
        safetyNote: "We don't judge here. What you write is safe.",
        cancel: "Cancel",
        share: "Share",

        // Settings
        account: "My Account",
        language: "Language",
        chooseLang: "Choose your language",
        appearance: "Appearance",
        darkMode: "Dark Mode",
        data: "Data",
        deleteData: "Delete All Data",

        // Chatbot
        botName: "Yon Zep√≤l",
        botGreeting: "Hello! I'm your assistant. How can I help you today?",
        typeMessage: "Type here...",
        send: "Send",

        // Resources
        libraryTitle: "Resource Library",
        all: "All",
        articles: "Articles",
        videos: "Videos",
        exercises: "Exercises",

        // Footer
        about: "About Zep√≤l",
        aboutDesc: "A friend always there for you.",
        quickLinks: "Quick Links",
        contact: "Contact",
        emailLabel: "Email",
        emergency: "Emergency",
        copyright: "All rights reserved",

        // Modals
        emergencyTitle: "Need Emergency Help?",
        emergencyDesc: "You're not alone. There are people who want to help you right now.",
        call: "Call",
        chatWhatsApp: "Chat WhatsApp",

        // Wellbeing Test
        testTitle: "Wellbeing Test",
        testDesc: "Take a moment to check how you're feeling today.",
        startTest: "Start",

        // Community
        supportGroup: "Community Support Group",
        supportDesc: "Talk with others who understand you. No judgment.",
        typeMessage: "Say something encouraging...",
        send: "Send",

        // Dashboard
        progress: "Your Wellbeing Progress",
        takeCare: "Little by little, you're advancing.",
        wellbeingScore: "Wellbeing Level",
        lastCheck: "Last check",
        moodEvolution: "Mood Evolution",
        streak: "Daily Streak",
        keepGoing: "Great job! Keep taking care of yourself.",

        // Misc
        or: "or",
        social: "Stay Connected",
        emergency: "Emergency & Help",
        logoutBtn: "Disconnect Account"
    }
};

// Current language
let currentLang = 'ht';

// Function to get translation
function t(key) {
    return translations[currentLang][key] || key;
}

// Function to change language
function changeLanguage(lang) {
    if (translations[lang]) {
        currentLang = lang;
        updateUI();
    }
}

// Function to update UI with current language
function updateUI() {
    // Navigation
    document.querySelectorAll('.nav-links li').forEach((li) => {
        const view = li.dataset.view;
        if (translations[currentLang][view]) {
            const iconClass = li.querySelector('i').className;
            li.innerHTML = `<i class="${iconClass}"></i> ${t(view)}`;
        }
    });

    // Hero section
    const heroTitle = document.querySelector('.hero-text h2');
    if (heroTitle) heroTitle.textContent = t('heroTitle');

    const heroSubtitle = document.querySelector('.hero-text p');
    if (heroSubtitle) heroSubtitle.textContent = t('heroSubtitle');

    const ctaBtn = document.querySelector('.cta-btn');
    if (ctaBtn) ctaBtn.textContent = t('getStarted');

    // Features
    const features = document.querySelectorAll('.card');
    if (features.length >= 4) {
        features[0].querySelector('h3').textContent = t('communityTitle');
        features[0].querySelector('p').textContent = t('communityDesc');
        features[1].querySelector('h3').textContent = t('resourcesTitle');
        features[1].querySelector('p').textContent = t('resourcesDesc');
        features[2].querySelector('h3').textContent = t('moodJournalTitle');
        features[2].querySelector('p').textContent = t('moodJournalDesc');
        features[3].querySelector('h3').textContent = t('wellbeingTestTitle');
        features[3].querySelector('p').textContent = t('wellbeingTestDesc');
    }

    // Auth buttons
    const authBtn = document.getElementById('auth-btn');
    if (authBtn) authBtn.textContent = t('login');

    const registerBtn = document.getElementById('register-btn');
    if (registerBtn) registerBtn.textContent = t('register');

    // Modals
    const loginModal = document.getElementById('auth-modal');
    if (loginModal) {
        const title = loginModal.querySelector('h2');
        if (title) title.textContent = t('loginTitle');
        const inputs = loginModal.querySelectorAll('input');
        if (inputs[0]) inputs[0].placeholder = t('email') + ' ' + t('or').toLowerCase() + ' ' + t('phone').toLowerCase();
        if (inputs[1]) inputs[1].placeholder = t('password');
        const btn = loginModal.querySelector('button.btn-primary');
        if (btn) btn.textContent = t('login');
    }

    const registerModal = document.getElementById('register-modal');
    if (registerModal) {
        const title = registerModal.querySelector('h2');
        if (title) title.textContent = t('registerTitle');
        const labels = registerModal.querySelectorAll('label');
        labels.forEach(label => {
            const forAttr = label.getAttribute('for');
            if (forAttr === 'reg-fullname') label.textContent = t('fullName') + ' *';
            if (forAttr === 'reg-username') label.textContent = t('username') + ' *';
            if (forAttr === 'reg-password') label.textContent = t('password') + ' *';
            if (forAttr === 'reg-confirm') label.textContent = t('confirmPassword') + ' *';
        });
        const regBtn = registerModal.querySelector('.btn-register');
        if (regBtn) regBtn.innerHTML = `<i class="fas fa-user-plus"></i> ${t('createAccount')}`;
    }

    // Settings
    const settingsView = document.getElementById('view-settings');
    if (settingsView) {
        const title = settingsView.querySelector('.view-header h2');
        if (title) title.textContent = t('settings');
        const sections = settingsView.querySelectorAll('.setting-section h3');
        if (sections[0]) sections[0].textContent = 'üìù ' + t('share') + ' Drafts';
        if (sections[1]) sections[1].textContent = '‚öôÔ∏è ' + t('account');
        const logoutBtn = settingsView.querySelector('.btn-danger');
        if (logoutBtn) logoutBtn.innerHTML = `<i class="fas fa-sign-out-alt"></i> ${t('logoutBtn')}`;
    }

    // Footer
    const footerSections = document.querySelectorAll('.footer-section');
    if (footerSections.length >= 4) {
        if (footerSections[0].querySelector('h4')) footerSections[0].querySelector('h4').textContent = 'Zep√≤l üá≠üáπ';
        if (footerSections[1].querySelector('h4')) footerSections[1].querySelector('h4').textContent = t('home');
        if (footerSections[2].querySelector('h4')) footerSections[2].querySelector('h4').textContent = t('emergency');
        if (footerSections[3].querySelector('h4')) footerSections[3].querySelector('h4').textContent = t('social');
    }
}

// Export functions
window.t = t;
window.changeLanguage = changeLanguage;
window.updateUI = updateUI;
